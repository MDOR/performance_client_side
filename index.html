<!DOCTYPE html>
<html>
    <head>
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
      <meta charset="UTF-8">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
      <link rel="stylesheet" href="app/site.css">
    <body>
        <div class="reveal">
            <div class="slides">
                <section class="first-slide">
                  <h1>Client Side Performance</h1>
                  <h2>By <a href="https://mx.linkedin.com/in/marco-antonio-dominguez-rueda-a3a974aa" target="_blank" class="special-links">Marco Antonio DomÃ­nguez</a></h2>
                </section>
                <section style="position: relative">
                  <h1>About</h1>
                  <div class="content-container">
                      <div class="col-6">
                        <img src="app/img/cool_glasses.png" alt="" class="cool_glasses"/>
                        <img src="app/img/cartoon_profile.png" alt="" class="img-resposive"/>
                      </div>
                      <div class="col-6 align-left about">
                        <p>Marco Antonio DomÃ­nguez is a Computer System Engineer, JavaScript Lover and Web Developer.</p>
                        <ul>
                          <li><a href="https://mx.linkedin.com/in/marco-antonio-dominguez-rueda-a3a974aa" target="_blank" class="special-links">Linkedin</a></li>
                          <li><a href="https://github.com/MDOR" target="_blank" class="special-links">GitHub</a></li>                        </ul>
                      </div>
                  </div>
                </section>
                <section>
                  <blockquote cite="http://designingforperformance.com/performance-is-ux/">
                      <header>
                        <hgroup>
                          <h1>Performance is User Experience</h1>
                          <h2>- Designing for Performance</h2>
                        </hgroup>
                      </header>
                      <p>Users expects the page to load in <strong>2 seconds</strong>, after <strong>3 seconds</strong>, up to 40% of users will abandon your site.</p>
                      <p>Your site's experience determines how much your audience trust your brand, return your site and share it with others.</p>
                  </blockquote>
                </section>
                <section>
                  <h2>Talking about human perception</h2>
                  <div class="content-container">
                    <div class="wait col-4 green">0 - 100ms</div>
                    <div class="wait col-4 blue">300ms - 1s</div>
                    <div class="wait col-4 red">1s +</div>
                    <div class="wait col-4">
                      <img src="app/img/waiting.jpg" class="img-resposive"/>
                    </div>
                  </div>
                </section>
                <section>
                    <h1>Performance</h1>
                    <div class="heart-container">
                        <span class="heart"></span>
                    </div>
                </section>
                <section>
                    <h1>Performance</h1>
                    <div class="heart-container">
                        <div class="circle circle-CSS">
                            <span>CSS</span>
                        </div>
                        <span class="heart"></span>
                    </div>
                </section>
                <section>
                  <h1>CSS</h1>
                  <p><strong>CSSOM (CSS Object Model) </strong> is basically a map of the CSS on the site.</p>
                  <p>The browser doesn't show content until the <strong>CSSOM</strong> is ready.</p>
                  <p>CSSOM and DOM are combined.</p>
                  <p>CSSOM is blocked by JavaScript.</p>
                  <p>The browser works unsing intervals of 16.66ms.</p>
                </section>
                <section>
                  <h2>CSS Labels</h2>
                  <p>We can add labelss to manage the styles in the page.</p>
                  <p>Labels avoid load unnecessary code in the application.</p>
                </section>
                <section>
                  <h2>Example</h2>
<pre class="prettyprint lang-html">
/*Syntax*/
&#60link rel="stylesheet" media="mediatype and|not|only (expressions)" href="path_to_file/file.css"&#62

/*Best Practices*/
&#60link rel="stylesheet" href="common_styles.css"&#62
&#60link rel="stylesheet" href="print_styles.css" media="print"&#62
&#60link rel="stylesheet" href="portrait.css" media="orientation:portrait"&#62
&#60link rel="stylesheet" href="min_resolution.css" media="(min-width: 40em)"&#62
</pre>
                </section>
                <section>
                  <h2>Concat CSS files</h2>
                  <p>Http request are expensive and increase rendering time.</p>
                  <p>Order files based on it's own precedence.</p>
                  <div class="files-concat">
                    <span>ðŸ“„</span> + <span>ðŸ“„</span> + <span>ðŸ“„</span> = <span>ðŸ“„</span>
                  </div>
                </section>
                <section>
                  <h2>CSS Pipelines</h2>
                  <ul>
                    <li>JavaScript (JS)</li>
                    <li>Style (CSS)</li>
                    <li>Layout</li>
                    <li>Paint</li>
                    <li>Composite</li>
                  </ul>
                </section>
                <section>
                  <h2>CSS Flows</h2>
                  <ul>
                    <li>JS/CSS -> Style -> Layout -> Paint -> Composite</li>
                    <li>JS/CSS -> Style -> Paint -> Composite</li>
                    <li>JS/CSS -> Style ->  Composite</li>
                  </ul>
                </section>
                <section>
                  <h3>JS/CSS -> Style -> Layout -> Paint -> Composite</h3>
                  <p>Change related with size or position.</p>
                  <p>Browsers check all elements for changes.</p>
                  <p>Affected sections will be repainted and composite will be executed.</p>
                </section>
                <section>
                  <h3>JS/CSS -> Style -> Paint -> Composite</h3>
                  <p>Change related with color, background, shadow, etc.</p>
                  <p>Element will be repainted</p>
                </section>
                <section>
                  <h3>JS/CSS -> Style -> Composite</h3>
                  <p>Change related with layer composition.</p>
                  <p>Composite will be executed.</p>
                </section>
                <section>
                  <h2>CSS execution</h2>
                  <p>DOM modifications fire element styles recalculations, in many cases specific section or the entire page (reflow).</p>
                </section>
                <section>
                  <h3>Recomendations</h3>
                  <p>Reduce changes in the DOM tree.</p>
                  <p>Avoid repaintings cycles longer than 16ms.</p>
                  <p>Use will-change property if needed.</p>
                  <p>Use transform and opacity for animations.</p>
                  <p>Use <bold>requestAnimationFrame</strong>.</p>
                  <p>Use flexbox instead other models.</p>
                </section>
                <section>
                  <h1>Using Atomic Modeling</h1>
                  <ul>
                    <li>Consistent Desing</li>
                    <li>Fast</li>
                    <li>Separate Structure and Skin</li>
                    <li>Separate Content and Container</li>
                    <li>Minimize Selectors</li>
                  </ul>
                </section>
                <section>
                  <h2>Components Clasification</h2>
                  <ul>
                    <li>Atom</li>
                    <li>Molecules</li>
                    <li>Organisms</li>
                    <li>Templates</li>
                  </ul>
                </section>
                <section>
                  <h3>Atoms</h3>
                  <p>Basic building blocks, basically our HTML tags. Examples: a, p, div, h1, navigation bar, etc.</p>
                </section>
                <section>
                  <h3>Molecules</h3>
                  <p>Combination of our different atoms in order to create elements, individually atoms aren't useful by themselves, combined they can respresent and doi something. Exaples: Search, Dropdowns, etc.</p>
                </section>
                <section>
                  <h3>Organisms</h3>
                  <p>Combination of different molecules, the result is block of content of the site. Examples: Header, Footer, etc.</p>
                </section>
                <section>
                  <h3>Templates</h3>
                  <p>At this moment the combination makes sense into design perspective, because we grouped different organisms to build a layout.</p>
                </section>
                <section>
                  <h3>Recomendations</h3>
                  <p>Find elements into the page, like list, buttons, anchors, headings, etc. and common patterns into your site.</p>
                  <p>Check states and variations for each component.</p>
                  <p>Use the proper elments for your components.</p>
                  <p>Avoid specification.</p>
                </section>
                <section>
                  <h3>Example</h3>
                  <div class="example">
                    Good
                    <br>
                    <button href="javascript: void(0)" class="button blue">Test button</button>
                    <button href="javascript: void(0)" class="button orange">Test button</button>
                    <br>
                    <a href="javascript: void(0)" class="button blue">Test button</a>
                    <a href="javascript: void(0)" class="button orange">Test button</a>
                    <br>
                    Bad
                    <br>
                    <p class="button blue">Test Button</p>
                    <p class="button orange">Test Button</p>
                    <a href="javascript: void(0)" class="button-for-header blue">Test button</a>
                  </div>
                </section>
                <section>
                  <h4>Code Example</h4>
                  <div class="content-container">
                      <div class="col-6">
                        Good
  <pre class="prettyprint">
    .button {
      border: 1px solid black;
      padding: 5px;
      border-radius: 5px;
      text-decoration: none;
      color: blue;
      cursor: pointer;
    }
    .button.blue {
      border-color: #3b78e7;
      background: #3b78e7;
      color: white;
    }
    .button.blue:hover {
        background: #1549a7;
    }
    .button.orange {
      border-color: #E1991C;
      background: #E1991C;
      color: white;
    }
    .button.orange:hover {
        background: #865b11;
    }
  </pre>
                      </div>
                      <div class="col-6">
                        Bad
  <pre class="prettyprint">
  .button {
    border: 1px solid black;
    background: red;
    font-size: 20px;
    padding: 5px;
    border-radius: 5px;
    text-decoration: none;
    color: blue;
    cursor: pointer;
  }
  .button.blue {
    border-color: #3b78e7;
    background: #3b78e7;
    color: white;
  }
  .button.blue:hover {
      background: #1549a7;
  }
  .button.orange {
    border-color: #E1991C;
    background: #E1991C;
    color: white;
  }
  .button.orange:hover {
    background: #865b11;
  }

  /*..More Code..*/
  a.button-for-header {
    border: 1px solid black;
    background: white;
    font-size: 15px;
    padding: 15px;
    border-radius: 5px;
    text-decoration: none;
    color: blue;
    cursor: pointer;
  }
  a.button-for-header.blue {
    border-color: #3b78e7;
    background: #3b78e7;
    color: white;
  }
  a.button-for-header.blue:hover {
    background: #865b11;
  }
  </pre>
                      </div>

                </section>
                <section>
                  <h1>Performance</h1>
                  <div class="heart-container">
                    <div class="circle circle-CSS">
                      <span>CSS</span>
                    </div>
                    <div class="circle circle-JS">
                        <span>JS</span>
                    </div>
                    <span class="heart"></span>
                  </div>
                </section>
                <section>
                  <h2>Talking about memory management</h2>
                  <p>All the browsers have its own <strong>Garbage Collector</strong> to remove unnecessary references.</p>
                  <p>When referenced variables aren't used anymore they are removed.</p>
                </section>
                <section>
                  <ul>
                    <li>Avoid namespaces or global variables as you can, they are cleaned just when the user refresh or leave the page</li>
                    <li>Keep local variables as you can.</li>
                    <li>Unbind handlers.</li>
                    <li>Clean storage.</li>
                  </ul>
                </section>
                <section>
                  <h2>Functions</h2>
                  <pre class="prettyprint">
                    //Good
                    function exec () {
                      var args = arguments,
                          temp = 0;

                      for (var i = args.length - 1; i >= 0; i -= 1) {
                        temp += ~~args[i];
                      }

                      console.log("Total: %c" + temp, "color: red");
                    }

                    //Bad
                    function exec () {
                      var args = arguments,
                          temp = 0;

                      for (var i = args.length - 1; i >= 0; i -= 1) {
                        temp += ~~args[i];
                      }

                      return temp;
                    }

                    var result = exec(1, 2, 3, 4);
                  </pre>
                </section>
                <section>
                  <h2>Timers</h2>
<pre class="prettyprint">
/*Bad*/
var obj = {
            print: setInterval(function () {
              console.log("Nasty Code %c I'm not accessible ðŸŒ‹", "color: red;"),
            }, 1000)
          };

obj.print;

obj.print = null;

/*Good*/
var obj = {
            print: setInterval(function () {
              console.log("Nasty Code %c ðŸŒ‹", "color: red;")
            }, 1000),
            clean: function () {
              console.log("I'm cleaning, print is accessible for GC");
              clearInterval(this.print);
            }
          };

obj.print;
obj.clean();

</pre>
                </section>
                <section>
                  <h2>Circular references</h2>
<pre class="prettyprint">
  var elementActive = document.getElementById('active-div');

  elementActive.innerElements = elementActive;
  /*Adding More Code to elementActive*/
</pre>
                </section>
                <section>
                  <h1>Performance</h1>
                  <div class="heart-container">
                    <div class="circle circle-CSS">
                      <span>CSS</span>
                    </div>
                    <div class="circle circle-JS">
                        <span>JS</span>
                    </div>
                    <div class="circle General">
                        <span>Gen</span>
                    </div>
                    <span class="heart"></span>
                  </div>
                </section>
                <section>
                  <h1>The Web</h1>
                  <img src="app/img/fat_dog.jpg" alt="" class="img-resposive"/>
                </section>
                <section>
                  <h1>Example Optimization</h1>
                  <ul>
                    <li>Site: <a href="maquinas_label_example/maquinas_base/index.html" target="_blank">Maquinas Label</a></li>
                    <li>Average Time: 1.3s</li>
                    <li>Total Size: 3.6MB</li>
                    <li>No minification</li>
                  </ul>
                </section>
                <section>
                  <h2>First Steps</h2>
                  <p>Remove unecessary dependencies, in this example we can remove jQuery</p>
                  <p>Normalize CSS and jQuery are not needed, instead we can move the JS below</p>

                  <p>Result:
                    <ul>
                      <li>Site: <a href="maquinas_label_example/example_1/index.html" target="_blank">Maquinas Label</a></li>
                      <li>Average Time: 1s</li>
                      <li>Total Size: 3MB</li>
                      <li>No minification</li>
                    </ul>
                  </p>
                </section>
                <section>
                  <h2>Task Runners</h2>
                  <div class="content-container">

                  </div>
                </section>
                <section>
                  Questions?
                </section>
            </div>
        </div>
        <script src="app/site.js" async></script>
        <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js" async></script>
    </body>
</html>
